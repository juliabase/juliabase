<!-- 
<style>
  .lock-header { 
    overflow-y: auto; 
    max-height: 500px;
  }  
  .lock-header thead { 
    position: sticky; 
    top: 0; 
    background: white;
    box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4);
  } 
   
  </style> -->
  {# -*- indent-tabs-mode: nil -*- #}
  {% extends "samples/base.html" %}
  {% comment %}
  This file is part of JuliaBase, see http://www.juliabase.org.
  Copyright © 2008–2015 Forschungszentrum Jülich GmbH, Jülich, Germany
  
  This program is free software: you can redistribute it and/or modify it under
  the terms of the GNU Affero General Public License as published by the Free
  Software Foundation, either version 3 of the License, or (at your option) any
  later version.
  
  This program is distributed in the hope that it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more
  details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  {% endcomment %}
  
  {% load i18n %}
  {% load juliabase %}
  {% load samples_extras %}
  {% load static %}
  
  <!-- <link type="text/css" rel="stylesheet" href="{% static 'juliabase/css/lab_notebook.css' %}"/> -->
  
  <!-- 
  <style type="text/css">
    tr.topline { border-top: 1px solid black }
  </style>
  -->
  
  {% block content_title %}<div class="page-header"><h1>{{ title }}{% if export_url %}<a class="edit-icon" 
       href="{{ export_url }}"><img src="{% static "juliabase/icons/table.png" %}" alt="export icon"
          title="{% translate 'export as table' %}" width="16" height="16"/></a>{% endif %}</h1></div>{% endblock %}
  
  {% block cos %}
  <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://cdn.datatables.net/v/dt/dt-2.0.3/fc-5.0.0/fh-4.0.1/r-3.0.0/rg-1.5.0/datatables.min.css" rel="stylesheet">
 
  <script src="https://cdn.datatables.net/v/dt/dt-2.0.3/fc-5.0.0/fh-4.0.1/r-3.0.0/rg-1.5.0/datatables.min.js"></script>
  <link type="text/css" rel="stylesheet" href="{% static 'juliabase/css/table.css'%}"/>
  <!-- We set a variable called staticUrl that is generated by Django so that
  we can give it to a JS file that does not know what Django templates are. -->
  <script type="text/javascript">
    var staticUrl = "{% static 'juliabase/css/labcss.css' %}";
  </script>
  <!-- <script type="module" src="{% static 'juliabase/js/labcss_enabler.js' %}"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.datatables.net/v/bs5-5.3.0/datatables.min.js"></script>
  
  {% endblock %}
  
  
  {% block frame_content %}
  
  <form method="post" id="date-form">{% csrf_token %}
    {% error_list date_form _("Error in date") %}
    <div style="text-align: center">
      {% if date_form.begin_date.label %}
        {{ date_form.begin_date.label }}/{{ date_form.end_date.label }}<br/>
        {{ date_form.begin_date }}/{{ date_form.end_date }}<br/>
      {% else %}
          <!-- Use a fallback value if date_form.begin_date.label is not defined -->
          {{ year_month.year.label }}/{{ year_month.month.label }}<br/>
          {{ year_month.year }}/{{ year_month.month }}<br/>
      {% endif %}
      
      <div class="screen-only" style="margin-top: 1ex">
        <input type="submit" value="{% translate 'Submit' %}"/><br/>

        
          {% block notebook_nav_icons %}
            <a href="{{ previous_url }}" {% if not previous_url %}style="visibility: hidden"{% endif %}>
              <img src="{% static "juliabase/icons/book_previous.png" %}" alt="previous month icon"
                  title="{% translate 'previous month' %}" width="16" height="16"/></a>
                   
            <a href="{{ next_url }}" {% if not next_url %}style="visibility: hidden"{% endif %}>
              <img src="{% static "juliabase/icons/book_next.png" %}" alt="next month icon" title="{% translate 'next month' %}"
                  width="16" height="16"/>
            </a>
          {% endblock %}
        
        
      </div>
    </div>
  </form>
  

  <div class="lock-header">
    {{ html_body }}
  </div>
<style>
    .red {
        background-color: red !important;
      }

  </style>
  <script src="{% url 'iek5:javascript-catalog' %}"></script>
  <script type="module">
    // console.log("{{ cols|escapejs }}")
    $(document).ready( function () {
      // console.log('Current URL:', window.location.href);

      // FIXME: this should be in lab_notebook.js, but for some reasons it
      // does not work there.
      // Check if the URL contains a specific substring
      // We use this to get rid of the date form for screenprinter paste and screen
      if (window.location.href.indexOf('screenprinter_paste') > -1 || window.location.href.indexOf('screenprinter_screen') > -1) {
          // Hide the form with id="date-form"
          // console.log('Substring found! Hiding date form.');
          $('#date-form').hide();
    }
    

    // var langDict = {
    //                     processing:     gettext("Processing..."),
    //                     search:         gettext("Search&nbsp;:"),
    //                     lengthMenu:     gettext("Show _MENU_ entries"),
    //                     info:           gettext("Showing _START_ to _END_ of total _TOTAL_ entries"),
    //                     infoEmpty:      gettext("Showing 0 to 0 of total 0 entries"),
    //                     infoFiltered:   gettext("(filtered from total _MAX_ entries)"),
    //                     infoPostFix:    "",
    //                     loadingRecords: gettext("Loading records..."),
    //                     zeroRecords:    gettext("No entries found"),
    //                     emptyTable:     gettext("No data available"),
    //                     aria: {
    //                         sortAscending:  gettext(": activate to sort column ascending"),
    //                         sortDescending: gettext(": activate to sort column descending")
    //                     }
    //                 };
    // var cols = {{ cols|escapejs }};
    // console.log(cols);
    
    // $('#manual-cleaning').DataTable({
    //         order: [[ 0, "desc" ]],
    //         scrollX: true,
    //         language: langDict,
    //         fixedColumns: true,
    //         fixedHeader: true // Enable FixedHeader extension
    //         }); 

        // setTimeout(function() {
        //   $('.lab-notebook:not(#screenprinter,\
        //                     #five-chamber,   \
        //                     #six-chamber,     \
        //                     #cluster-tool-2,   \
        //                     #cluster-tool-1,    \
        //                     #dip-bench,          \
        //                     #hercules,            \
        //                     #jana,                 \
        //                     #joseph,                \
        //                     #lada,                   \
        //                     #large-sputter,           \
        //                     #large-area,               \
        //                     #maria,                     \
        //                     #p-hot-wire,                 \
        //                     #wetbench,                    \
        //                     #screenprinter-paste)').DataTable({
        //     // rowGroup: {
        //     //     dataSrc: 0
        //     // },
            
        //     scrollX: true,
        //     // ordering: false,
        //     language: langDict,
        // fixedColumns: true,
        // fixedHeader: true // Enable FixedHeader extension
        // }).columns.adjust().draw();; // Initialize the DataTables for the rest of the tables with the class "lab-notebook"

        // // table.columns.adjust().draw();
        //   }, 1000);

        // $('#manual-cleaning').DataTable({
        //     "order": [[ 0, "desc" ]],
        //     scrollX: true,
        //     language: langDict,
        //     fixedColumns: true,
        //     fixedHeader: true // Enable FixedHeader extension
        //     }); // Initialize the DataTables for the rest of the tables with the class "lab-notebook"
                
  } );
  </script>
  <script src="{% static 'juliabase/js/lab_notebook.js' %}"></script>
  <!-- Include marked library from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/marked@2.1.3/marked.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.3/purify.min.js"></script>
  
  <script type="text/javascript" src="{% static 'juliabase/js/md_latex_renderer.js' %}"></script>
  <!-- <div id="rooting" /> -->
  <!-- <script src="{% static 'index-bundle.js' %}"></script> -->
  {% endblock %}
  
  
  